(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{102:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},105:function(e,t,n){var o=n(106),r=n(138),l=n(139),a="[object Null]",i="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?i:a:c&&c in Object(e)?r(e):l(e)}},106:function(e,t,n){var o=n(137).Symbol;e.exports=o},110:function(e,t){var n=Array.isArray;e.exports=n},112:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(36))},134:function(e,t,n){var o=n(135),r=n(143),l=n(148),a=n(149);e.exports=function(e,t,n){return Array.isArray(e)||(e=[e]),a(e.map((function(e){return l(e)?function(e,t,n){var a=0,i=0;if(""===e)return e;if(!e||!l(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var c=t;o(c)||(c=new RegExp("("+r(c)+")","gi"));for(var s=e.split(c),d=1,u=s.length;d<u;d+=2)i=s[d].length,a+=s[d-1].length,s[d]=n(s[d],d,a),a+=i;return s}(e,t,n):e})))}},135:function(e,t,n){var o=n(136),r=n(140),l=n(141),a=l&&l.isRegExp,i=a?r(a):o;e.exports=i},136:function(e,t,n){var o=n(105),r=n(102),l="[object RegExp]";e.exports=function(e){return r(e)&&o(e)==l}},137:function(e,t,n){var o=n(112),r="object"==typeof self&&self&&self.Object===Object&&self,l=o||r||Function("return this")();e.exports=l},138:function(e,t,n){var o=n(106),r=Object.prototype,l=r.hasOwnProperty,a=r.toString,i=o?o.toStringTag:void 0;e.exports=function(e){var t=l.call(e,i),n=e[i];try{e[i]=void 0;var o=!0}catch(c){}var r=a.call(e);return o&&(t?e[i]=n:delete e[i]),r}},139:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},140:function(e,t){e.exports=function(e){return function(t){return e(t)}}},141:function(e,t,n){(function(e){var o=n(112),r=t&&!t.nodeType&&t,l=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=l&&l.exports===r&&o.process,i=function(){try{var e=l&&l.require&&l.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=i}).call(this,n(142)(e))},142:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},143:function(e,t,n){var o=n(144),r=/[\\^$.*+?()[\]{}|]/g,l=RegExp(r.source);e.exports=function(e){return(e=o(e))&&l.test(e)?e.replace(r,"\\$&"):e}},144:function(e,t,n){var o=n(145);e.exports=function(e){return null==e?"":o(e)}},145:function(e,t,n){var o=n(106),r=n(146),l=n(110),a=n(147),i=1/0,c=o?o.prototype:void 0,s=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(l(t))return r(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-i?"-0":n}},146:function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},147:function(e,t,n){var o=n(105),r=n(102),l="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||r(e)&&o(e)==l}},148:function(e,t,n){var o=n(105),r=n(110),l=n(102),a="[object String]";e.exports=function(e){return"string"==typeof e||!r(e)&&l(e)&&o(e)==a}},149:function(e,t,n){var o=n(150);e.exports=function(e){return(null==e?0:e.length)?o(e,1):[]}},150:function(e,t,n){var o=n(151),r=n(152);e.exports=function e(t,n,l,a,i){var c=-1,s=t.length;for(l||(l=r),i||(i=[]);++c<s;){var d=t[c];n>0&&l(d)?n>1?e(d,n-1,l,a,i):o(i,d):a||(i[i.length]=d)}return i}},151:function(e,t){e.exports=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}},152:function(e,t,n){var o=n(106),r=n(153),l=n(110),a=o?o.isConcatSpreadable:void 0;e.exports=function(e){return l(e)||r(e)||!!(a&&e&&e[a])}},153:function(e,t,n){var o=n(154),r=n(102),l=Object.prototype,a=l.hasOwnProperty,i=l.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return r(e)&&a.call(e,"callee")&&!i.call(e,"callee")};e.exports=c},154:function(e,t,n){var o=n(105),r=n(102),l="[object Arguments]";e.exports=function(e){return r(e)&&o(e)==l}},97:function(e,t,n){"use strict";n.r(t);n(104),n(12),n(51),n(108),n(109);var o=n(0),r=n.n(o),l=n(103),a=n(134),i=n.n(a),c=n(99),s=n.n(c);const d=r.a.memo(({lines:e,className:t})=>r.a.createElement("pre",{className:s()("language-shell__output",t)},e.split(/\n/g).filter(Boolean).map((e,t)=>r.a.createElement("div",{key:t,className:"token-line"},r.a.createElement("span",{className:"token plain"},h(e))))),()=>!0),u=/^(info|success|error|warn) /,b=/\s{2,}app \S+|\+\d+ms/g,p=/(module|app) ((?:(?!with|for)[\w-])+)([\s\r\n]+|$)/gi,m=/^(\s+)((added|inject): .+)/,f=/{([^}]+)}/gi,j=/([^ ]+) (.+)/,O=/link\.([^ ]+)/,h=e=>{const t={info:"deepskyblue",success:"limegreen",error:"red",warn:"darkorange",name:"lightgoldenrodyellow",light:"white",debug:"dodgerblue",inject:"mediumpurple",added:"limegreen"},n=e.replace(u,(e,t)=>"{"+t+" "+t+"} ").replace(b,e=>"{"+t.debug+" "+e+"} ").replace(m,(e,t,n,o)=>t+"{"+o+" "+n+"}").replace(p,(e,t,n,o)=>t+" {name "+n+"}"+o);return i()(n,f,e=>{const n=j.exec(e);if(!n)return e;const[,o,l]=n,a=o.match(O);if(a){const[,e]=a;return r.a.createElement("a",{href:e},l)}{const e=t[o]?t[o]:o;return r.a.createElement("span",{key:l,style:{color:e}},l)}})};var g=d;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,"frontMatter",(function(){return v})),n.d(t,"rightToc",(function(){return x})),n.d(t,"default",(function(){return C}));var v={id:"guide-cli",title:"Robust CLI",sidebar_label:"CLI"},x=[{value:"1. List of common commands",id:"1-list-of-common-commands",children:[]},{value:"2. Base official commands",id:"2-base-official-commands",children:[{value:"2.1. <code>robust new</code>",id:"21-robust-new",children:[]},{value:"2.2. <code>robust serve</code>",id:"22-robust-serve",children:[]},{value:"2.3. <code>robust add</code>",id:"23-robust-add",children:[]},{value:"2.4. <code>robust remove</code>",id:"24-robust-remove",children:[]}]},{value:"3. Other official commands",id:"3-other-official-commands",children:[{value:"3.1 <code>robust route:list</code>",id:"31-robust-routelist",children:[]},{value:"3.2 <code>robust controller:list</code>",id:"32-robust-controllerlist",children:[]},{value:"3.3. <code>robust controller:add</code>",id:"33-robust-controlleradd",children:[]},{value:"3.4 <code>robust mongo:db:add</code>",id:"34-robust-mongodbadd",children:[]},{value:"3.5 <code>robust mongo:db:test</code>",id:"35-robust-mongodbtest",children:[]}]},{value:"4. Extend CLI commands",id:"4-extend-cli-commands",children:[]}],w={rightToc:x},N="wrapper";function C(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["components"]);return Object(l.b)(N,y({},w,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"1-list-of-common-commands"},"1. List of common commands"),Object(l.b)("br",null),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust --help\n")),Object(l.b)(g,{lines:"\nUsage: robust <command>\nCommands:\n  {link.#21-robust-new robust new <template> <name>}  Scaffold new robust application\n  {link.#22-robust-serve robust serve}                  Start application\n  {link.#23-robust-add robust add <name>}             Create local module\n  {link.#24-robust-remove robust remove <name>}          Safely remove local module\n  {link.#31-robust-routelist robust route:list}             \u1d07 List all routes added by controllers\n  {link.#32-robust-controllerlist robust controller:list}        \u1d07 List all controllers\n  {link.#33-robust-controlleradd robust controller:add <name>}  \u1d07 Add new controller\n  {link.#34-robust-mongodbadd robust mongo:db:add <uri>}     \u1d07 Add a database connection}\n  {link.#35-robust-mongodbtest robust mongo:db:test <uri>}    \u1d07 Test mongo database connection}\nOptions:\n  -h, --help     Show help                               [boolean]\n  -v, --version  Show version number                     [boolean]\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"Command list can be different when Robust CLI extensions found. For more information, please head down to ",Object(l.b)("a",y({parentName:"p"},{href:"#4-extend-cli-commands"}),"Extend CLI commands"),"."),Object(l.b)("h2",{id:"2-base-official-commands"},"2. Base official commands"),Object(l.b)("h3",{id:"21-robust-new"},"2.1. ",Object(l.b)("inlineCode",{parentName:"h3"},"robust new")),Object(l.b)("p",null,"The first thing we'll want to do is create a new Robust application by running the ",Object(l.b)("inlineCode",{parentName:"p"},"robust new")," command."),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust new api my-api\n")),Object(l.b)(g,{lines:"\ninfo Scaffolding {light api} app my-api\n    added: .gitignore\n    added: controllers/IndexController.js\n    added: index.js\n    added: package.json\n    added: README.md\nsuccess App my-api created\ninfo Installing dependencies ...\nsuccess App my-api ready. Please {light `robust serve`} it\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"Robust will set you up with what seems like a huge amount of stuff for such a tiny command! You've got the entire Robust directory structure now with all the code you need to run our simple API ",Object(l.b)("inlineCode",{parentName:"p"},"my-api")," application right out of the box."),Object(l.b)("p",null,"There are many available templates you can use for your application, each templates are designed to work to a particular type of application:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"api"),Object(l.b)("li",{parentName:"ul"},"console"),Object(l.b)("li",{parentName:"ul"},"mvc (coming soon)")),Object(l.b)("p",null,"For example, if you want to create a CLI application, please run"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust new console <app-name>\n")),Object(l.b)("h3",{id:"22-robust-serve"},"2.2. ",Object(l.b)("inlineCode",{parentName:"h3"},"robust serve")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"robust serve")," command launches a web server. You'll use this any time you want to access your application through a web browser (eg: ",Object(l.b)("a",y({parentName:"p"},{href:"//localhost:3000"}),"localhost:3000"),")"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust serve\n")),Object(l.b)(g,{lines:"\ninfo Initing file watcher for app my-api\ninfo Starting app my-api on {light development} port {light 3000}\ninfo For more debug information, please run app with DEBUG=app*\nsuccess App my-api started\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"By default, ",Object(l.b)("inlineCode",{parentName:"p"},"robust serve")," create a file changes watcher for application on development environment. So later, your application will restart everytime you changes / removed / added js files:"),Object(l.b)(g,{className:"language-shell__output--standalone",lines:"\ninfo Reloading app for added {light module-01/index.js}\nsuccess App my-api reloaded\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"The last ",Object(l.b)("inlineCode",{parentName:"p"},"info")," message indicates how to show useful debug information like loaded modules, created routes, used ports, ... which is simple like:"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"DEBUG=app* robust serve\n")),Object(l.b)(g,{lines:"\ninfo Initing file watcher for app my-api\ninfo Starting app my-api on {light development} port {light 3000}\n  app my-api routed  GET /  +0ms\n  app my-api loaded modules: ... +4ms\n  app my-api started in 0s 5.3134ms +1ms\nsuccess App my-api started\n  app my-api started server on port 3000 +2ms\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"Default port is ",Object(l.b)("inlineCode",{parentName:"p"},"3000"),". You can run your application on a different port using the ",Object(l.b)("inlineCode",{parentName:"p"},"-p")," option. The default ",Object(l.b)("inlineCode",{parentName:"p"},"development")," environment can be changed using ",Object(l.b)("inlineCode",{parentName:"p"},"-e"),"."),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust serve -e production -p 5000\n")),Object(l.b)("h3",{id:"23-robust-add"},"2.3. ",Object(l.b)("inlineCode",{parentName:"h3"},"robust add")),Object(l.b)("p",null,"You can add new local empty module to your application using ",Object(l.b)("inlineCode",{parentName:"p"},"robust add")," command, with the module name as paramter"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust add module-01\n")),Object(l.b)(g,{lines:"\ninfo Scaffolding empty module module-01 to my-api\n   inject: package.json\n    added: modules/module-01/.gitignore\n    added: modules/module-01/index.js\n    added: modules/module-01/package.json\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"You can also select other modules' template like ",Object(l.b)("inlineCode",{parentName:"p"},"api"),", ",Object(l.b)("inlineCode",{parentName:"p"},"console"),", ",Object(l.b)("inlineCode",{parentName:"p"},"mvc (coming soon)")),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust add api-module --as api\n")),Object(l.b)("h3",{id:"24-robust-remove"},"2.4. ",Object(l.b)("inlineCode",{parentName:"h3"},"robust remove")),Object(l.b)("p",null,"For safely removing a local module, there is a ",Object(l.b)("inlineCode",{parentName:"p"},"robust remove")," command to help"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust remove module-01\n")),Object(l.b)(g,{lines:"\nsuccess Module module-01 removed\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"To remove entire module contents, please add ",Object(l.b)("inlineCode",{parentName:"p"},"--destroy")," flag, or simple ",Object(l.b)("inlineCode",{parentName:"p"},"-d")," after the command:"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust remove module-01 -d\n")),Object(l.b)(g,{lines:"\nwarn Entire module module-01 directory will be deleted\nsuccess Module module-01 removed\n",mdxType:"ShellOutput"}),Object(l.b)("h2",{id:"3-other-official-commands"},"3. Other official commands"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"Side-note: These ",Object(l.b)("inlineCode",{parentName:"p"},"E")," marked commands are added as extensions from many other Robust modules\nFor more information on making CLI extensions, please see ",Object(l.b)("a",y({parentName:"p"},{href:"#4-extend-cli-commands"}),"Extend CLI commands"))),Object(l.b)("h3",{id:"31-robust-routelist"},"3.1 ",Object(l.b)("inlineCode",{parentName:"h3"},"robust route:list")),Object(l.b)("p",null,"( Added by ",Object(l.b)("inlineCode",{parentName:"p"},"@robust/controller-parser")," )"),Object(l.b)("p",null,"This command will list all current routes"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust route:list\n")),Object(l.b)(g,{lines:"\n    GET /module-01/\n    GET /\n    GET /test/\n",mdxType:"ShellOutput"}),Object(l.b)("h3",{id:"32-robust-controllerlist"},"3.2 ",Object(l.b)("inlineCode",{parentName:"h3"},"robust controller:list")),Object(l.b)("p",null,"( Added by ",Object(l.b)("inlineCode",{parentName:"p"},"@robust/controller-parser")," )"),Object(l.b)("p",null,"This command will list all app controller"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust controller:list\n")),Object(l.b)(g,{lines:"\n    modules/module-01/controllers/IndexController.js\n    controllers/IndexController.js\n    controllers/TestController.js\n",mdxType:"ShellOutput"}),Object(l.b)("h3",{id:"33-robust-controlleradd"},"3.3. ",Object(l.b)("inlineCode",{parentName:"h3"},"robust controller:add")),Object(l.b)("p",null,"( Added by ",Object(l.b)("inlineCode",{parentName:"p"},"@robust/express")," )"),Object(l.b)("p",null,"This command will create new controller for your application, for example adding ",Object(l.b)("inlineCode",{parentName:"p"},"TestController"),":"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust add:controller test\n")),Object(l.b)(g,{lines:"\n    added: controllers/TestController.js\n",mdxType:"ShellOutput"}),Object(l.b)("p",null,"Then, after ",Object(l.b)("inlineCode",{parentName:"p"},"robust serve")," your application, you can access ",Object(l.b)("a",y({parentName:"p"},{href:"//localhost:3000/test"}),"localhost:3000/test")),Object(l.b)("h3",{id:"34-robust-mongodbadd"},"3.4 ",Object(l.b)("inlineCode",{parentName:"h3"},"robust mongo:db:add")),Object(l.b)("p",null,"( Added by ",Object(l.b)("inlineCode",{parentName:"p"},"@robust/mongo")," )"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust mongo:db:add mongodb://$DB_HOST:$DB_PORT/test\n")),Object(l.b)(g,{lines:"\ninfo Adding connection default config with driver mongoose\n   inject: index.js\n   inject: package.json\n   inject: .env\n   inject: config/mongoose.config.js\n",mdxType:"ShellOutput"}),Object(l.b)("h3",{id:"35-robust-mongodbtest"},"3.5 ",Object(l.b)("inlineCode",{parentName:"h3"},"robust mongo:db:test")),Object(l.b)("p",null,"( Added by ",Object(l.b)("inlineCode",{parentName:"p"},"@robust/mongo")," )"),Object(l.b)("p",null,"This command will test connection to a MongoDB database"),Object(l.b)("pre",null,Object(l.b)("code",y({parentName:"pre"},{}),"robust mongo db:test mongodb://localhost:27017/test -u $DB_USER -p $DB_PASSWORD\n")),Object(l.b)(g,{lines:"\ninfo Connecting to database at mongodb://localhost:27017/test\nsuccess Connected\n",mdxType:"ShellOutput"}),Object(l.b)("h2",{id:"4-extend-cli-commands"},"4. Extend CLI commands"),Object(l.b)("p",null,"Coming soon"))}C.isMDXComponent=!0}}]);